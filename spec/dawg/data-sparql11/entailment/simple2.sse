(prefix ((: <http://example.org/test#>)
         (rdfs: <http://www.w3.org/2000/01/rdf-schema#>)
         (owl: <http://www.w3.org/2002/07/owl#>))
  (project (?x)
    (bgp
      (triple ?x a ??0)
      (triple ??0 owl:intersectionOf ??1)
      (triple ??1 <http://www.w3.org/1999/02/22-rdf-syntax-ns#first> :A)
      (triple ??1 <http://www.w3.org/1999/02/22-rdf-syntax-ns#rest> ??2)
      (triple ??2 <http://www.w3.org/1999/02/22-rdf-syntax-ns#first> ??3)
      (triple ??3 a owl:Restriction)
      (triple ??3 owl:onProperty :p)
      (triple ??3 owl:someValuesFrom :B)
      (triple ??2 <http://www.w3.org/1999/02/22-rdf-syntax-ns#rest> <http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>)
    )))
